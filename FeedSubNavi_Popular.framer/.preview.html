<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">

	<meta name="format-detection" content="telephone=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<script type="text/javascript">
		// This automatically sets the right viewport scale on mobile devices
		(function () {
			var scale = 1 / window.devicePixelRatio
			var viewport = "width=device-width, height=device-height, initial-scale=" + scale + ", maximum-scale=" + scale + ", user-scalable=no, viewport-fit=cover"
			var iOS = /iPad|iPhone|iPod/.test(navigator.platform)
			if (iOS) { viewport += ", shrink-to-fit=no" }
			document.write("<meta name=\"viewport\" content=\"" + viewport + "\">")
		})()
	</script>

	<link rel="apple-touch-icon" href="framer/images/icon-120.png">
	<link rel="apple-touch-icon" href="framer/images/icon-76.png" sizes="76x76">
	<link rel="apple-touch-icon" href="framer/images/icon-120.png" sizes="120x120">
	<link rel="apple-touch-icon" href="framer/images/icon-152.png" sizes="152x152">
	<link rel="apple-touch-icon" href="framer/images/icon-180.png" sizes="180x180">
	<link rel="apple-touch-icon" href="framer/images/icon-192.png" sizes="192x192">

	<link rel="stylesheet" type="text/css" href="framer/style.css?nocache=6d40bc53861208d298f85019e08849ff">

	<script src="framer/coffee-script.js"></script>
	<script src="framer/framer.js?nocache=d2bbfa2efc034b8e02a947de8442af20"></script>
	<script src="framer/framer.generated.js?nocache=b2e6b4f15a5fdb5f62e02cc839460f15"></script>
	<script src="framer/framer.modules.js?nocache=2e716a0b0a307d49168aedaab7120d19"></script>
	<script src="framer/framer.vekter.js"></script>
	<script>document.addEventListener("DOMContentLoaded", function() {window.__framerClientCodeId = 1;window.__framerNew = function (n,loc,th,i){if (i == null) { return i };i.__framerInstanceInfo = _.defaults({name:n,location:loc,hash:th},i.__framerInstanceInfo);_.defaults(i.__framerInstanceInfo,{name:"Untitled"});return i;};window.__framerAnimation = function (th,a){if (a.isNoop === true) {return a;};var l = a.layer;if (l == null) { return a; };if (l.__framerAnimationInfo == null) {l.__framerAnimationInfo = {};};l.__framerAnimationInfo[th] = {originalState:a._originalState, destinationProperties: a.properties, destinationOptions: a.options};return a;};(function() {
  var LastPosition, Original, StoryScrollH, Storys, TextLayer, TextLayerContainer, comments, destroyhomePage, flow, homePageContent, homePageItem, i, indexNumber, j, k, l, layer, layerGap, len, len1, len2, len3, m, medium, n, o, originalLayers, overdrag, overdragDistance, ratio, ref, refresh, scroll, spacefor8, storiesState, storyContainer, storyItemNumber, storyScroll, sub, subContainer, subContent, subIndexNumber, subItemNumber, subLayers, subPopupActionContainer, subScroll, subState, yDelta;

  storyItemNumber = 5;

  subItemNumber = 5;

  layerGap = 10;

  medium = 0;

  sub = 0;

  subContainer = [];

  subLayers = [sub1, sub2, sub3, sub4, sub5, sub6, sub7, sub8, sub9, sub10, sub11, sub12, sub13];

  originalLayers = [enter, enter2, enter3, enter4, enter5];

  comments = ["北航故事", "北京小风子", "潘玮柏", "周冬雨", "来去之间", "用户昵称"];

  Storys = [Story1, Story2, Story3, Story4];

  spacefor8 = 0;

  for (j = 0, len = originalLayers.length; j < len; j++) {
    layer = originalLayers[j];
    ratio = Screen.width / 375;
    layer.width = Screen.width;
    layer.height = ratio * 449;
  }

  if (Screen.width === 414) {
    spacefor8 = 8 - 1;
  }

  Uper.y = spacefor8;

  subNavi.y = 64 + spacefor8;

  StoryScrollH = window.__framerNew("StoryScrollH", "25:19-33:0", "#95721b14",new ScrollComponent({
    width: Screen.width,
    height: StoryCard.height,
    backgroundColor: null,
    parent: StoryCard,
    draggable: true,
    scrollVertical: false,
    contentInset: {
      right: 13
    }
  }));

  StoryScrollH.content.on(Events.DragStart, function() {
    return scroll.content.draggable.enabled = false;
  });

  StoryScrollH.content.on(Events.DragEnd, function() {
    return scroll.content.draggable.enabled = true;
  });

  for (k = 0, len1 = Storys.length; k < len1; k++) {
    layer = Storys[k];
    layer.parent = StoryScrollH.content;
  }

  Framer.Defaults.Animation = {
    time: .3,
    curve: Bezier.easeInOut
  };

  flow = window.__framerNew("flow", "52:7-52:23", "#1367bd3a1",new FlowComponent);

  flow.showNext($1);

  scroll = window.__framerNew("scroll", "55:13-63:1", "#151eadb11",new ScrollComponent({
    scrollHorizontal: false,
    width: Screen.width,
    height: Screen.height,
    backgroundColor: null,
    parent: $1,
    contentInset: {
      bottom: 100
    }
  }));

  scroll.sendToBack();

  scroll.mouseWheelEnabled = true;

  scroll.onScrollStart(function() {
    return subScroll.speedX = 0;
  });

  scroll.onScrollEnd(function() {
    return subScroll.speedX = 1;
  });

  destroyhomePage = function() {
    var l, len2, results;
    results = [];
    for (l = 0, len2 = homePageItem.length; l < len2; l++) {
      layer = homePageItem[l];
      results.push(layer.destroy());
    }
    return results;
  };

  homePageItem = [];

  homePageContent = function() {
    var homeItemNumber, i, l, number, ref, results;
    number = 12;
    homeItemNumber = Math.ceil(number);
    results = [];
    for (i = l = 0, ref = homeItemNumber; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
      medium = i;
      layer = window.__framerNew("layer", "85:10-85:50", "?",Utils.randomChoice(originalLayers).copy());
      layer.x = Align.center;
      layer.parent = scroll.content;
      if (i < 1) {
        layer.y = 106 + spacefor8;
      } else if (i < 8) {
        layer.y = homePageItem[medium - 1].y + homePageItem[medium - 1].height + layerGap;
      } else {
        layer.y = homePageItem[medium - 1].y + homePageItem[medium - 1].height + layerGap;
      }
      results.push(homePageItem.push(layer));
    }
    return results;
  };

  homePageContent();

  storiesState = 1;

  refresh = function() {
    destroyhomePage();
    homePageContent();
    window.__framerAnimation("#9ddea936",scroll.animate({
      scrollY: 0,
      y: 0,
      options: {
        time: 0.01
      }
    }));
    return storiesState = 0;
  };

  Original = function() {
    homePageContent();
    window.__framerAnimation("#d0d99ad4",scroll.animate({
      scrollY: 0,
      y: 0 + spacefor8
    }));
    storiesState = 1;
    return subNavi.animate({
      y: 64 + spacefor8
    });
  };

  storyContainer = [];

  stories.parent = scroll.content;

  storyScroll = window.__framerNew("storyScroll", "130:18-140:0", "#bc79c1f0",new ScrollComponent({
    scrollVertical: false,
    width: Screen.width,
    height: 100,
    backgroundColor: null,
    visible: false,
    parent: stories
  }));

  for (i = l = 0, ref = storyItemNumber; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
    layer = window.__framerNew("layer", "142:9-142:20", "?",story.copy());
    layer.parent = storyScroll.content;
    layer.x = (55 + 11) * i + layerGap;
    layer.y = 16;
    avatarBG.borderWidth = 2;
    avatarBG.borderColor = "#FF8200";
    Text_1.text = Utils.randomChoice(comments);
    avatar.image = Utils.randomImage();
    storyContainer.push(layer);
  }

  story.parent = storyScroll.content;

  Text_1.text = '我的故事';

  avatarBG.borderWidth = 0;

  subScroll = window.__framerNew("subScroll", "157:16-163:10", "#bc0eab09",new ScrollComponent({
    scrollVertical: false,
    width: Screen.width,
    backgroundColor: null,
    parent: subNavi,
    contentInset: {
      right: 50
    }
  }));

  subScroll.mouseWheelEnabled = true;

  subScroll.draggable.enabled = false;

  subScroll.draggable.propagateEvents = false;

  subScroll.sendToBack();

  subContent = function() {
    var m, results;
    results = [];
    for (i = m = 0; m <= 12; i = ++m) {
      sub = i;
      layer = subLayers[i];
      layer.parent = subScroll.content;
      layer.y = 12;
      if (i < 1) {
        layer.x = 14;
      } else {
        layer.x = subContainer[sub - 1].x + subContainer[sub - 1].width + 23;
      }
      results.push(subContainer.push(layer));
    }
    return results;
  };

  BG.sendToBack();

  subContent();

  subContainer[0].color = "#FF8200";

  subContainer[0].fontFamily = '-apple-system';

  subContainer[0].fontWeight = 500;

  indexNumber = 0;

  for (i = m = 0, len2 = subContainer.length; m < len2; i = ++m) {
    layer = subContainer[i];
    layer.onClick(function() {
      var len3, len4, n, o;
      for (i = n = 0, len3 = subContainer.length; n < len3; i = ++n) {
        layer = subContainer[i];
        layer.color = '#333333';
        layer.fontWeight = '';
        this.color = '#FF8200';
        this.fontFamily = '-apple-system';
        this.fontWeight = 500;
      }
      indexNumber = this.index - 16;
      if (indexNumber >= 0 && indexNumber <= 3) {
        window.__framerAnimation("#16091a3d8",subScroll.animate({
          scrollX: 0
        }));
      }
      if (indexNumber > 3 && indexNumber < 10) {
        window.__framerAnimation("#ff44559b",subScroll.animate({
          scrollX: subContainer[indexNumber].x - 200 - subContainer[indexNumber].width
        }));
      }
      if (indexNumber < 13 && indexNumber >= 10) {
        window.__framerAnimation("#9df7075e",subScroll.animate({
          scrollX: subContainer[12].x
        }));
      }
      for (o = 0, len4 = TextLayerContainer.length; o < len4; o++) {
        layer = TextLayerContainer[o];
        layer.color = '#333333';
        layer.fontWeight = '';
        TextLayerContainer[indexNumber - 1].color = '#FF8200';
        TextLayerContainer[indexNumber - 1].fontFamily = '-apple-system';
        TextLayerContainer[indexNumber - 1].fontWeight = 500;
      }
      refresh();
      return overdrag();
    });
  }

  subMore.draggable.propagateEvents = false;

  subMore.onClick(function() {
    return flow.showOverlayTop($2);
  });

  Back.onClick(function() {
    return flow.showPrevious();
  });

  $2.onClick(function() {
    return flow.showPrevious();
  });

  $2.propagateEvents = true;

  TextLayerContainer = [];

  subPopupActionContainer = [];

  for (i = n = 0; n < 12; i = ++n) {
    layer = window.__framerNew("layer", "237:9-237:23", "?",subPopup.copy());
    layer.width = subPopup.width * ratio;
    Layer.height = subPopup.height * ratio;
    layer.parent = $2;
    subPopupActionContainer.push(layer);
    if (i >= 0 && i < 4) {
      layer.x = 88 * i * ratio + 15;
      layer.y = 83;
    }
    if (i >= 4 && i < 8) {
      layer.x = 88 * i * ratio + 15 - 88 * 4 * ratio;
      layer.y = 128;
    }
    if (i >= 8 && i < 12) {
      layer.x = 88 * i * ratio + 15 - 88 * 8 * ratio;
      layer.y = 173;
    }
    TextLayer = window.__framerNew("TextLayer", "251:13-251:31", "?",subLayers[i].copy());
    TextLayerContainer.push(TextLayer);
    TextLayer.parent = layer;
    TextLayer.x = Align.center;
    TextLayer.y = Align.center;
  }

  subIndexNumber = 0;

  for (i = o = 0, len3 = TextLayerContainer.length; o < len3; i = ++o) {
    layer = TextLayerContainer[i];
    layer.onClick(function() {
      var len4, len5, p, q;
      for (i = p = 0, len4 = TextLayerContainer.length; p < len4; i = ++p) {
        layer = TextLayerContainer[i];
        layer.color = '#333333';
        layer.fontWeight = '';
        this.color = '#FF8200';
        this.fontFamily = '-apple-system';
        this.fontWeight = 500;
      }
      subIndexNumber = Math.floor((this.index - 49) / 3 - 7);
      for (i = q = 0, len5 = subContainer.length; q < len5; i = ++q) {
        layer = subContainer[i];
        layer.color = '#333333';
        layer.fontWeight = '';
        subContainer[subIndexNumber - 1].color = '#FF8200';
        subContainer[subIndexNumber - 1].fontFamily = '-apple-system';
        subContainer[subIndexNumber - 1].fontWeight = 500;
      }
      Utils.delay(0.1, function() {
        return flow.showPrevious($1);
      });
      return Utils.delay(0.1, function() {
        if (subIndexNumber >= 0 && subIndexNumber <= 3) {
          window.__framerAnimation("#113e00abb",subScroll.animate({
            scrollX: 0
          }));
        }
        if (subIndexNumber > 3 && subIndexNumber < 10) {
          window.__framerAnimation("#1097598d3",subScroll.animate({
            scrollX: subContainer[subIndexNumber].x - 200 - subContainer[subIndexNumber].width
          }));
        }
        if (subIndexNumber < 13 && subIndexNumber >= 10) {
          window.__framerAnimation("#a8284a96",subScroll.animate({
            scrollX: subContainer[12].x
          }));
        }
        if (subIndexNumber === 1) {
          return Utils.delay(0.1, function() {
            return refresh();
          });
        } else {
          return Utils.delay(0.3, function() {
            refresh();
            return overdrag();
          });
        }
      });
    });
  }

  LastPosition = 0;

  yDelta = 0;

  scroll.on(Events.ScrollStart, function(event) {
    return LastPosition = scroll.scrollY;
  });

  subState = 0;

  scroll.on(Events.Scroll, function(event) {
    yDelta = LastPosition - scroll.scrollY;
    LastPosition = scroll.scrollY;
    if (scroll.scrollY > 42) {
      if (yDelta > 3) {
        subState = true;
        subNavi.animate({
          y: 64 + spacefor8
        });
        Uper.animate({
          shadowColor: "#dadada"
        });
      }
    }
    if (scroll.scrollY > 84) {
      if (yDelta < -3) {
        subState = false;
        subNavi.animate({
          y: 21 + spacefor8
        });
        Uper.animate({
          shadowColor: "#e6e6e6"
        });
      }
    }
    if (scroll.scrollY <= 42 && scroll.scrollY > 0 && yDelta <= 0) {
      subNavi.y = Utils.modulate(scroll.scrollY, [0, 43], [64 + spacefor8, 21 + spacefor8], true);
    }
    if (scroll.scrollY <= 42 && scroll.scrollY > 0 && yDelta > 0) {
      return subNavi.animate({
        y: 64 + spacefor8
      });
    }
  });

  overdragDistance = 0;

  overdrag = function() {
    return scroll.onMove(function(event, layer) {
      overdragDistance = event.y;
      if (overdragDistance > -103 - 61) {
        return scroll.speedY = Utils.modulate(event.y, [0, 103 + 61 + spacefor8 + 50], [1, 0], true);
      } else {
        return scroll.speedY = 1;
      }
    });
  };

}).call(this);
})</script>

</head>

<body>
</body>

</html>